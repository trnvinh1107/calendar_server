package com.trnvinh.bookingroom.mapper;

import java.util.List;

import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Select;
import org.apache.ibatis.annotations.Update;

import com.trnvinh.bookingroom.model.BookingRoom;

@Mapper
public interface BookingRoomMapper {
	@Select("SELECT * FROM booking_room")
	public List<BookingRoom> getAllBookingRooms();
	
	@Select("SELECT * FROM booking_room WHERE userId = #{userId} and roomId = #{roomId}")
	public BookingRoom getBookingRoomByUserRoom(Long userId, Long roomId);
	
	@Insert("INSERT INTO booking_room(userId, roomId, startTime, endTime, description, createdTime, updatedTime) VALUES(#{userId}, #{roomId}, #{startTime}, #{endTime}, #{description}, #{createdTime}, #{updatedTime})")
	public void insertBookingRoom(BookingRoom bookingRoom);
	
	@Update("UPDATE booking_room SET startTime = #{startTime}, endTime = #{endTime}, description = #{description}, createdTime = #{createdTime}, updatedTime = #{updatedTime} WHERE userId = #{userId} and roomId = #{roomId}")
	public void updateBookingRoom(BookingRoom bookingRoom);
	
	@Delete("DELETE booking_room WHERE userId = #{userId} and roomId = #{roomId}")
	public void deleteBookingRoom(Long userId, Long roomId);
}
